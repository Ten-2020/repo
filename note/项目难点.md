### 20-11-03
1. 页面F5刷新问题:
- 有些页面需要缓存,有些则不需要,而页面缓存的关键点在于,vue文件是否配置了跟路由名称一样的name属性.
- 一个新增/修改页面有些时候是一个单独的页面嘛,因为有些字段会比较多,放在弹出框并不合适.
- 假设页面正处于修改状态,如果说一个数据修改错了,想修改回之前的数据,那她可以选择刷新页面,所有的数据恢复到刚进来的时候.
- 如果修改界面只保存了当下的数据,那么它修改的数据要不要保存,
- 到底难点在于哪里
2. 路由标签以及标签切换问题:
- 比如,主页面与修改页面两个页面通过点击路由标签进行页面切换,如果两个页面都有缓存,那么两个页面都不会发生变化.
- 但是如果是通过点击不是同一行的数据中的那个修改按钮,进行页面切换的话,那么修改页面数据就得发生更改.
- 即使是同一行的数据,也得去判断数据有没有发生了改变.
- 首先,因为是有缓存的,所以不能在 created 中更改数据,同理,mounted中也不行.
- 所以只能在 activated 方法中判断数据是否发生了改变.这里又涉及到一个问题,页面刚加载渲染的时候,也经过了 activated 方法.
- 所以一个修改页面,如几种情形,
- 第一种第一次创建的时候,第二种是页面切换的时候,第三种两次点击修改按钮进来的时候.
- 但是你页面刚加载的时候,是先执行的 created 方法,再执行的 activated 方法.所以得判断页面是否是刚渲染的.
- 一开始我是这么做的,在主页面中添加一个变量,如果经过 created 方法,说明它是新建的,就让这个属性变成true.
- 在 activated 中判断该属性是否为 true,如果为 true 
3. 一个繁琐的问题:一个修改页面要不要添加缓存.
- 一开始是觉得修改页面会经常需要改变数据的,所以是设置不缓存的,不管点哪里进来都可以,vue.js中是这样的,
- 如果router中的命名跟vue文件中的name这个不一致,它就会不自动帮你缓存这个界面,不缓存的意思就是,不管什么时候点进来,
- 都会执行create方法跟mounted方法,但是这个时间如果页面一旦按F5刷新,如果不缓存的页面都会发生请求,所以打开的页面都会重新加载.
- 比如说,现在打开了两个修改页面,在一个修改页面点击刷新,别外一个也会刷新,这样一来,请求就会很多,如果其中一个页面本来打开自己本身都会卡的话
- 就会导致两个页面都会非常卡顿.所以这样不行.
- 这样就造成一个问题,首先修改页面是要设置缓存的啦,但是设置之后缓存之后,第二次点击别的数据进来的时候,修改页面的数据还是前一次的.
- 后来发现,设置缓存,页面中的beforeCreate|create|beforeMount|mount 这些方法都不会调用到.但是有一个方法,是还会运行的,就是activated方法
- 只要在这个方法里判断是否有数据更新就行了.不过还是有点判断在,才行,
- 首先切换路由标签的时候,修改页面的数据是不变的,F5 刷新的时候,页面数据也是不变的.但是这是两种情况啊,第一个是传递了参数的,第二种是没有传递任何参数的
- 还有一种是新增的时候,也是没有参数的,还有一种点击修改进来,但是也有问题,点击修改有可能点击相同的一行,也有可能点击的不是同一行.
- 我是这样做的:首先,判断传递参数等不等于undefined,如果没有,那就是F5刷新的时候进来这个方法的,刷新还得判断是新增时的刷新还是修改时的刷新.
- 就是要去sessionStorage里看看缓存的新增/修改标志是真还是假,如果为新增,就清空页面,如果为修改,就让他恢复之前的数据.
- 再接着判断是否是传递的空值,因为我在区分刷新跟新增两种情况的时候,设定新增的时候传的是空值,就是比如id,那我就设置id=''两个分号嘛,
- 如果id等于空就是新增进来的.如果不为空就是修改嘛,但是修改又分为两种情形,一种是数据没有发生变化的,一种是发生了变化的.诸如此类的嘛
- 就稍微有点复杂.
4. router 是用 history 模式还是 hash 模式？(现在都是用的hash,也即是加#号的)(随便提下,加#号在微信里打开一次就可以,不加要点击两次才会)
- 想法之前用的也是 hash 模式的,现在只有这个项目用的 history 模式的.
- history 会出现F5页面刷新问题,以及404问题.要配置到路径才不会.
- 在 new-react项目中尝试下,看看两者的区别.
- 回去再看看算法,前端.




















- 个人优势
4年开发经验,熟悉前后端开发技术,有良好的逻辑思维，有幽默的沟通能力，对编程有一定的强迫症,执着于开发技巧的进步,积极学习工作中的开发技术.因为自己一直项目中接触过react.js,深感自己的技术没有得到扩展,所以在工作之余,就自己仿照着自己做过的vue.js项目,一边学习一边使用ant design来实现一个简单的demo.
擅于总结自己的经验,平时会记录遇到的疑难杂症,不管是已解决还是未解决的.许多BUG在记录下的时候,已经事半功倍了.项目在完结之后也会记录下使用的新技术或者难点.
